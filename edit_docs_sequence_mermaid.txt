sequenceDiagram
    actor martin
    participant Auth
    participant HomeCtrl
    participant PresCtrl
    participant Signature

    martin->>Auth: auth(usr, pwd)
    activate Auth
    alt logged == true
        Auth-->>Auth: redirect(/)
    else logged == false
        deactivate Auth
        Auth--x martin: logged
    end
    martin->>HomeCtrl: GET /presence
    activate martin
    activate HomeCtrl
    HomeCtrl-->>martin: render(presences)
    deactivate HomeCtrl
    activate martin

    martin->>PresCtrl: PresCtrl::req_sign()
    activate martin
    activate PresCtrl
    PresCtrl->>Signature: Signature::create_sign()
    activate Signature
    Signature-->>PresCtrl: created
    deactivate Signature
    deactivate PresCtrl
    PresCtrl-->>martin: render(presences_with_sign)
    deactivate martin

    loop session in sessions
        martin->>PresCtrl: PresCtrl::sign(session)
        activate martin
        activate PresCtrl
        PresCtrl-->>martin: render(presences_edited)
        deactivate martin
        deactivate PresCtrl
    end    